<!-- Main Carousel should contain emulator tabs, not the apps directly! -->    
<div *ngIf="mainActivityActive" id="the-carousel" class="main-carousel" data-flickity='{ "cellAlign": "left", "contain": true }'>
    <!-- Nav menu -->
    <div id="a1-a" class="carousel-cell">
        <!-- Vertical slide target -->    
        <div class="vertical-slide-target"></div>  
        <div class="main-unit">
            <div class="identity-section text-middle-container my-is-flex is-centered is-absolute">
                <h1>Autumn's Home</h1>
                <h2>It is windy today.</h2>
                <h3>{{ currentTime }}<br>Last Login: 5 days ago.</h3>
                <div *ngIf="scheduledEvents.length > 0" class="schedule-events-title">Metaverse Events</div>
                <div class="schedule-entry">
                    <ul>
                        <!-- E.g., @19:00 PM - Meet with TryAgain34 in Chat Homes Jazzy Lounge -->
                        <li *ngFor="let event of scheduledEvents">
                            {{ event.name }}
                        </li>
                    </ul>
                </div>

                <img id="grouppic" src="../assets/grouppic.jpeg"/>
                
            </div>           
        </div>
    </div> 

    <div id="app-list" class="carousel-cell">
        <div class="main-unit">
            <div class="app-icon">
                <img (click)="launchActivity('quest-idler')" src="../assets/app-icons/fire.png" alt="quest-idler">
                <h1>Quest Idler: Retro Edition</h1>
            </div>
            <div class="app-icon">
                <img (click)="launchActivity('reader')" src="../assets/app-icons/book.png" alt="book reader">
                <h1>Writer</h1>
            </div>
            <div class="app-icon">
                <img (click)="launchActivity('chat-homes')" src="../assets/app-icons/speak.png" alt="chat homes 3D">
                <h1>Chat Homes 3D</h1>
            </div>        
            <div class="app-icon">
                <img (click)="launchActivity('Evening-in-the-Promised-Land')" src="../assets/app-icons/sword.png" alt="Evening-in-the-Promised-Land">
                <h1>Evening in the Promised Land</h1>
            </div>       
        </div>
    </div>
</div>

<div *ngIf="activeActivity === 'reader'" class="activity">
    <div id="reader-app">
        <app-meta-journal></app-meta-journal>
    </div>
</div>

<div *ngIf="activeActivity === 'quest-idler'" class="activity">
    <div id="quest-idler-app">    
        <app-quest-idler (playerRefChange)="updatePlayerRef($event)" [playerRef]="playerRef"></app-quest-idler>   
    </div>
</div>

<div [class.activity]="activeActivity === 'chat-homes'" [class.activity-hidden]="activeActivity !== 'chat-homes'">
    <div id="chat-homes-app">       
        <app-chat-homes></app-chat-homes>
    </div> 
</div>

<div [class.activity]="activeActivity === 'Evening-in-the-Promised-Land'" [class.activity-hidden]="activeActivity !== 'Evening-in-the-Promised-Land'">
    <div id="Evening-in-the-Promised-Land">
        <video id="GameVideo"></video>
        <canvas id="GameCanvas"></canvas>
        <canvas id="UpperCanvas"></canvas>
    </div> 
</div>

<app-meta-friend-list *ngIf="this.friendListVisible"></app-meta-friend-list>
<app-meta-message-center *ngIf="this.messageCenterVisible"></app-meta-message-center>

<nav class="navbar my-is-flex is-centered">
    <button (click)="this.setMessageCenterVisible(!this.messageCenterVisible)" class="">
        <mat-icon class="mat-icon-rtl-mirror">
            {{ this.messageCenterVisible? 'cancel' : 'forum' }} 
        </mat-icon>
    </button>
    <button (click)="this.setFriendListVisible(!this.friendListVisible)" class="">
        <mat-icon class="mat-icon-rtl-mirror">
            {{ this.friendListVisible? 'cancel' : 'hub' }} 
        </mat-icon>     
    </button>
    <button *ngIf="!this.mainActivityActive" (click)="returnToMainActivity()" class="">
        <mat-icon class="">keyboard_return</mat-icon>     
    </button>
</nav>
